## Проект HRScanner

Этот проект включает тесты для проверки функциональности веб-сайта HRScanner.ru. Тесты написаны на PHP и используют Selenium WebDriver для автоматизации браузера, а также библиотеку PHPUnit для выполнения тестов. Тесты включают проверку регистрации и проверки доставки email.

## Требования

- PHP: 8.2.21
- Composer: для установки зависимостей
- ChromeDriver: для запуска тестов в браузере Chrome. Ссылка на скачивание: https://googlechromelabs.github.io/chrome-for-testing/

## Установка

1. Клонирование репозитория

```bash
    git clone https://github.com/denisbondarenko89981/hrscanner-test.git
    cd hrscanner-test
```

2. Установка зависимостей

```bash
    composer install
```

3. Настройка конфигурации

- Откройте файл config/config.php и заполните следующие поля:
- urlToken: URL для отправки сообщений через Telegram Bot
- chatId: ID чата в Telegram
- chromeDriverPath: Путь к ChromeDriver
- chromeDriverUrl: URL для подключения к ChromeDriver
- emailLogin: Логин для почтового ящика
- emailPassword: Пароль для почтового ящика
- hrEmail: Логин для входа на сайт HRScanner
- hrPassword: Пароль для входа на сайт HRScanner

4. Разрешение IMAP

Для подключения к почтовому ящику по IMAP, необходимо зайти в настройки почтового ящика и в разделе "Безопасность" разрешить доступ по протоколу IMAP.

## Запуск тестов
Для запуска тестов используйте следующую команду:

```bash
    vendor\bin\phpunit --configuration phpunit.xml
```

## Файлы проекта

- EmailTest.php: Тест для проверки функциональности отправки email.
- RegistrationTest.php: Тест для проверки регистрации на сайте.
- TelegramBot.php: Класс для отправки сообщений в Telegram.

## Описание тестов

Тест `RegistrationTest` выполняет следующие шаги:

1. Осуществляется переход на страницу https://hrscanner.ru/.
2. Проверяется наличие и кликабельность кнопки «Протестировать HRSCANNER».
3. Проверяется наличие и заполняются поля «Ваш email» и «Номер телефона».
4. Проверяется наличие и кликабельность кнопки «Зарегистрироваться».
5. Проверяется, что текущий URL соответствует ожидаемому https://hrscanner.ru/ru/user/home.

Тест `EmailTest` выполняет следующие шаги:

1. Осуществляется переход на веб-страницу https://hrscanner.ru/.
2. Имитируется процесс входа на сайт:
3. Находится и нажимается кнопка открытия формы входа.
4. Заполняются поля логина и пароля, указанные в конфигурации.
5. Кликается кнопка входа в личный кабинет.
6. Проверяется успешный переход в личный кабинет путём сравнения текущего URL с ожидаемым.
7. Заполняется поле с email, на который будет отправлено письмо.
8. Выбирается тест "Резалт" для отправки на почту.
9. Отправка теста на почту.
10. Подключается к почтовому ящику через протокол IMAP.
11. Ищутся письма от отправителя test@hrscanner.ru.
12. Если письмо найдено, оно разбирается для извлечения ссылки, которая затем открывается в браузере.
